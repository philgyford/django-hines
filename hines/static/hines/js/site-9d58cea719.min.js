"use strict";var $={getElByClass:function(t){t=document.getElementsByClassName(t);return t=t&&1===t.length?t[0]:t},showEl:function(t,e){$.getElByClass(t).style.display=e||""},hideEl:function(t){$.getElByClass(t).style.display="none"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},each:function(t,n){t=document.querySelectorAll(t);Array.prototype.forEach.call(t,function(t,e){n.call(e,t)})}},ready=function(t){if("function"==typeof t)return"interactive"===document.readyState||"complete"===document.readyState?t():void document.addEventListener("DOMContentLoaded",t,!1)};
!function(){"use strict";window.hines=window.hines||{},window.hines.navbar=function(){var n="js-navbar-item-search",a="js-navbar-nav-item-search";return{init:function(){$.addClass(document.body,"js-can-navbar"),function(){var t=document.createElement("button");t.setAttribute("aria-expanded","false"),t.setAttribute("aria-controls","js-navbar-form"),t.setAttribute("type","button"),t.setAttribute("class","button--link nav__link "+a),t.textContent="Search";var e=document.createElement("li");e.setAttribute("class","nav__item nav__item--split "+n),e.appendChild(t),$.getElByClass("js-navbar-nav").appendChild(e)}(),$.getElByClass(a).addEventListener("click",function(t){t.preventDefault(),$.hideEl(n),$.showEl("js-navbar-form","block"),$.getElByClass(a).setAttribute("aria-expanded","true")})}}}}();
!function(){"use strict";window.hines=window.hines||{},window.hines.chart=function(t){var r,e="",a="",g={top:5,bottom:20,left:50,right:5},n=function(t,e){var a="<strong>"+t.data.label+":</strong> ";return"bar-stacked"==v&&(a+=t.data.columns[e].label+": "),a+=i(t.data.columns[e].value)},f=d3.scaleBand(),p=d3.scaleLinear(),m=d3.axisBottom(f).tickSize(0).tickPadding(6),_=d3.axisLeft(p).ticks(5).tickSize(0).tickPadding(6).tickFormat(i),x=d3.axisLeft(p).ticks(5).tickFormat(""),v="bar";function i(t){t=(4<(""+d3.format(".0f")(t)).length?d3.format(","):d3.format("d"))(t);return e+t+a}function b(t){var e=d3.select(this.parentNode).datum().key;r.html(n(t,e)),r.style("visibility","visible")}function y(t){var e=d3.select(".js-chart-tooltip").node().getBoundingClientRect().width,a=d3.select(".js-chart").node().getBoundingClientRect().right,n=event.pageX+15;a-event.pageX<e&&(n=event.pageX-e-10),r.style("top",event.pageY-10+"px").style("left",n+"px")}function k(){r.style("visibility","hidden")}function w(t){var e=d3.select(this.parentNode).datum().key,e=t.data.columns[e];if(!("url"in e&&e.url))return!1;window.location.href=e.url}function c(t){t.each(function(e){var i,c,s=d3.select(this),t=Object.keys(e[0].columns);1<t.length&&(v="bar-stacked");var l=d3.stack().keys(t).value(function(t,e){return t.columns[e].value})(e);f.domain(e.map(function(t){return t.label})),p.domain([0,d3.max(l,function(t){return d3.max(t,function(t){return t[1]})})]);var o=s.append("svg"),d=o.append("g").classed("chart__inner chart__inner--"+v,!0);!function(){var t=d.append("g").classed("chart__axis chart__axis--x",!0);30<e.length?t.classed("chart__axis--x--30",!0):20<e.length?t.classed("chart__axis--x--20",!0):15<e.length?t.classed("chart__axis--x--15",!0):10<e.length&&t.classed("chart__axis--x--10",!0);d.append("g").classed("chart__axis chart__axis--y",!0),d.append("g").classed("chart__axis chart__axis--y--grid",!0)}();var u=d.append("g");function a(){var t,e;function a(t,e){return f(t.data.label)}function n(t){return p(t[1])}function r(t){return p(t[0])-p(t[1])}t=parseInt(s.style("width"),10),e=parseInt(s.style("height"),10),i=t-g.left-g.right,c=e-g.top-g.bottom,f.range([0,i]).padding(.1),p.rangeRound([c,0]),o.transition().attr("width",t).attr("height",e),d.attr("transform",h(g.left,g.top)),o.select(".chart__axis--x").attr("transform",h(0,c)).call(m),o.select(".chart__axis--y").call(_),o.select(".chart__axis--y--grid").call(x.tickSize(-i)),t=f.bandwidth(),(e=(e=(e=u.selectAll(".chart__bargroup").data(l)).enter().append("g").merge(e).attr("class",function(t,e){return"chart__bargroup chart__bargroup--"+e})).selectAll("rect").data(function(t){return t})).enter().append("rect").attr("x",a).attr("y",n).attr("width",t).attr("height",r).classed("chart__bar",!0).classed("chart__bar--clickable",function(t,e){var a=d3.select(this.parentNode).datum().key;return!!("url"in t.data.columns[a]&&t.data.columns[a].url)}).style("opacity",function(t,e){var a=(new Date).getFullYear();return parseInt(t.data.label)==a?(t=new Date,a=new Date(t.getFullYear(),0,0),a=t-a,Math.floor(a/864e5)/366):1}).on("mouseover",b).on("mousemove",y).on("mouseout",k).on("click",w),e.transition().attr("x",a).attr("y",n).attr("width",t).attr("height",r),e.exit().remove()}function h(t,e){return"translate("+t+","+e+")"}a(),window.addEventListener("resize",a)})}return r=0==document.getElementsByClassName("chart-tooltip").length?d3.select("body").append("div").classed("chart-tooltip js-chart-tooltip",!0):d3.select(".chart-tooltip"),c.margin=function(t){return arguments.length?(g=t,c):g},c.numberFormatPrefix=function(t){return arguments.length?(e=t,c):e},c.numberFormatSuffix=function(t){return arguments.length?(a=t,c):a},c.tooltipFormat=function(t){return arguments.length?(n=t,c):n},c}}();