{% comment %}
Display several Posts.

Expects:

* post_list: A list or QuerySet of Posts.
* page_obj, optional, a DiggPaginator instance or False (default).
* perms - Django permissions.
{% endcomment %}

{% load hines_core %}

{% if post_list|length > 0 %}

  {% if page_obj|default:False and page_obj.number > 1 %}
    {% include 'hines_core/includes/pagination.html' with page_obj=page_obj only %}
  {% endif %}

  <ol class="articles">
    {% for post in post_list %}
      <li class="article">
        <a href="{{ post.get_absolute_url }}">{{ post.title }}</a><br>

        {{ post.excerpt }}<br>

        <div class="aside aside--inline">
          <ul class="aside__inner">
            <li>{% display_time post.time_published show='date' link_to_day=False %}</li>

            {% if post.comment_count > 0 %}
              <li>{{ post.comment_count }} comment{{ post.comment_count|pluralize }}</li>
            {% endif %}
          </ul>
        </div>

      </li>
    {% endfor %}
  </ol>

  {% if page_obj|default:False %}
    {% include 'hines_core/includes/pagination.html' with page_obj=page_obj only %}
  {% endif %}

{% else %}
  <p>There are no posts to show.</p>
{% endif %}

